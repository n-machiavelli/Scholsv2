<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xsl:stylesheet SYSTEM "http://cdn.illinoisstate.edu/dtd/ou/standard.dtd">
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ou="http://omniupdate.com/XSL/Variables" version="3.0" exclude-result-prefixes="ou"><xsl:output method="xml" indent="yes" encoding="UTF-8" omit-xml-declaration="yes"/><xsl:strip-space elements="code"/><xsl:param name="ou:site"/><xsl:param name="ou:filename"/><xsl:param name="ou:dirname"/><xsl:param name="ou:action"/><xsl:param name="ou:path"/><xsl:param name="ou:root"/><xsl:param name="ou:httproot"/><xsl:variable name="datetime" select="current-dateTime()"/><xsl:variable name="navigation-xml" select="doc('../navigation/navigation.xml')/navigation"/><xsl:variable name="site-definition" select="doc('../site_definition.xml')/site_definitions"/><xsl:variable name="config" select="document/config"/><xsl:variable name="site-title"><xsl:value-of select="$site-definition/site_title"/></xsl:variable><xsl:variable name="site-status"><xsl:value-of select="$site-definition/site_status"/></xsl:variable><xsl:variable name="page-title"><xsl:variable name="temp-title" select="normalize-space($config/title)"/><xsl:if test="$temp-title != ''"><xsl:choose><xsl:when test="$extension='php' and matches($temp-title,'^\$')"><xsl:processing-instruction name="php">echo <xsl:value-of select="$temp-title" disable-output-escaping="yes"/>; </xsl:processing-instruction><xsl:value-of select="' | '"/></xsl:when><xsl:otherwise><xsl:value-of select="$temp-title"/><xsl:value-of select="' | '"/></xsl:otherwise></xsl:choose></xsl:if><xsl:value-of select="$site-title"/></xsl:variable><xsl:variable name="page-section"><xsl:value-of select="replace(replace($ou:dirname,'^/(.+?)(/|$).*','$1'),'( |_)','-')"/></xsl:variable><xsl:variable name="page-layout"><xsl:value-of select="$config/parameter[@name='page-layout']/option[@selected='true']/@value"/></xsl:variable><xsl:variable name="intro-layout"><xsl:choose><xsl:when test="$config/parameter[@name='intro-layout']/option[@selected='true']/@value != 'none'"><xsl:value-of select="$config/parameter[@name='intro-layout']/option[@selected='true']/@value"/></xsl:when><xsl:otherwise><xsl:value-of select="''"/></xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="giving"><xsl:value-of select="$config/parameter[@name='giving']/option/@selected"/></xsl:variable><xsl:variable name="sub-mast"><xsl:value-of select="$config/parameter[@name='sub-mast']/option/@selected"/></xsl:variable><xsl:variable name="page-tools"><xsl:value-of select="$config/parameter[@name='page-tools']/option/@selected"/></xsl:variable><xsl:variable name="feedback"><xsl:value-of select="$config/parameter[@name='feedback']/option/@selected"/></xsl:variable><xsl:variable name="optbox1-show"><xsl:value-of select="$config/parameter[@name='optbox1-show']/option/@selected"/></xsl:variable><xsl:variable name="optbox1-style"><xsl:call-template name="optionbox_style"><xsl:with-param name="val" select="$config/parameter[@name='optbox1-style']/option[@selected='true']/@value"/></xsl:call-template></xsl:variable><xsl:variable name="optbox2-show"><xsl:value-of select="$config/parameter[@name='optbox2-show']/option/@selected"/></xsl:variable><xsl:variable name="optbox2-style"><xsl:call-template name="optionbox_style"><xsl:with-param name="val" select="$config/parameter[@name='optbox2-style']/option[@selected='true']/@value"/></xsl:call-template></xsl:variable><xsl:variable name="optbox3-show"><xsl:value-of select="$config/parameter[@name='optbox3-show']/option/@selected"/></xsl:variable><xsl:variable name="optbox3-style"><xsl:call-template name="optionbox_style"><xsl:with-param name="val" select="$config/parameter[@name='optbox3-style']/option[@selected='true']/@value"/></xsl:call-template></xsl:variable><xsl:variable name="optbox4-show"><xsl:value-of select="$config/parameter[@name='optbox4-show']/option/@selected"/></xsl:variable><xsl:variable name="optbox4-style"><xsl:call-template name="optionbox_style"><xsl:with-param name="val" select="$config/parameter[@name='optbox4-style']/option[@selected='true']/@value"/></xsl:call-template></xsl:variable><xsl:variable name="callout-resp"><xsl:value-of select="lower-case($config/parameter[@name='callout-resp']/option[@selected='true'])"/></xsl:variable><xsl:variable name="sub-mast-resp"><xsl:value-of select="$config/parameter/option[@value='sub-mast-resp']/@selected"/></xsl:variable><xsl:variable name="sub-content-resp"><xsl:value-of select="$config/parameter/option[@value='sub-content-resp']/@selected"/></xsl:variable><xsl:variable name="split-intro-resp"><xsl:value-of select="$config/parameter/option[@value='split-intro-resp']/@selected"/></xsl:variable><xsl:variable name="section-nav"><xsl:value-of select="$config/parameter[@name='section-nav']/option/@selected"/></xsl:variable><xsl:variable name="sub-section-nav"><xsl:value-of select="$config/parameter[@name='sub-section-nav']/option/@selected"/></xsl:variable><xsl:variable name="sub-content"><xsl:value-of select="$config/parameter[@name='sub-content']/option/@selected"/></xsl:variable><xsl:variable name="search-box"><xsl:value-of select="$config/parameter[@name='search-box']/option/@selected"/></xsl:variable><xsl:variable name="template"><xsl:choose><xsl:when test="$config/template != ''"><xsl:value-of select="$config/template"/></xsl:when><xsl:otherwise>standard</xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="extension"><xsl:choose><xsl:when test="$config/template/@ext != ''"><xsl:value-of select="$config/template/@ext"/></xsl:when><xsl:otherwise>shtml</xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="section-nav-class"><xsl:choose><xsl:when test="$section-nav='true'">sectionnavon</xsl:when><xsl:otherwise>sectionnavoff</xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="html-class-build"><xsl:choose><xsl:when test="$site-status='0'"/><xsl:when test="$site-status='1'">pre-production</xsl:when><xsl:otherwise>development</xsl:otherwise></xsl:choose><xsl:value-of select="concat(' ',$template)"/><xsl:if test="$search-box='false'"><xsl:value-of select=" searchboxoff"/></xsl:if><xsl:choose><xsl:when test="$page-section='/' or $page-section=''"> sec-home</xsl:when><xsl:otherwise><xsl:value-of select="replace(concat(' sec-',normalize-space($page-section)),'--','-')"/></xsl:otherwise></xsl:choose><xsl:value-of select="concat(' page-',substring(lower-case(replace(replace($ou:filename,'( |-|_)','-'),'\.(php|shtml)','')),1,25))"/><xsl:if test="$search-box = 'false'"> searchboxoff</xsl:if><xsl:if test="$sub-mast-resp = 'false'"> sub-mast-resp</xsl:if><xsl:if test="$sub-content-resp = 'false'"> sub-content-resp</xsl:if><xsl:if test="$split-intro-resp = 'false'"> split-intro-resp</xsl:if><xsl:variable name="folder-lvl"><xsl:value-of select="(string-length($ou:path)-string-length(replace($ou:path,'/','')))-1"/></xsl:variable><xsl:choose><xsl:when test="$folder-lvl=0"> folder-root</xsl:when><xsl:otherwise> folder-lvl<xsl:value-of select="$folder-lvl"/></xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="html-class" select="normalize-space($html-class-build)"/><xsl:variable name="intro-offset"><xsl:choose><xsl:when test="$intro-layout='intro'">1</xsl:when><xsl:when test="$intro-layout='split'">2</xsl:when><xsl:otherwise>0</xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="status-path"><xsl:choose><xsl:when test="contains($ou:dirname,'_design')">/</xsl:when><xsl:when test="$site-status='2'">/_isu/</xsl:when><xsl:otherwise>/</xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="override" select="$config/page-include-override"/><xsl:variable name="include-path" select="concat('/_resources/includes',$status-path)"/><xsl:variable name="meta-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/meta"/><xsl:with-param name="file" select="'meta.html'"/></xsl:call-template></xsl:variable><xsl:variable name="css-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/css"/><xsl:with-param name="file" select="'site_css.html'"/></xsl:call-template></xsl:variable><xsl:variable name="head-btm-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/before_closing_head"/><xsl:with-param name="file" select="'before_closing_head.html'"/></xsl:call-template></xsl:variable><xsl:variable name="header-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/header"/><xsl:with-param name="file" select="'header.html'"/></xsl:call-template></xsl:variable><xsl:variable name="footer-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/footer"/><xsl:with-param name="file" select="'footer.html'"/></xsl:call-template></xsl:variable><xsl:variable name="body-btm-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/before_closing_body"/><xsl:with-param name="file" select="'before_closing_body.html'"/></xsl:call-template></xsl:variable><xsl:variable name="giving-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/giving"/><xsl:with-param name="file" select="'giving.html'"/></xsl:call-template></xsl:variable><xsl:variable name="subsectionnav-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/subsectionnav"/><xsl:with-param name="file" select="'subsectionnav.html'"/></xsl:call-template></xsl:variable><xsl:variable name="page_tools-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/page_tools"/><xsl:with-param name="file" select="'page_tools.html'"/></xsl:call-template></xsl:variable><xsl:variable name="feedback-include"><xsl:call-template name="file-include-path"><xsl:with-param name="path" select="$override/feedback"/><xsl:with-param name="file" select="'feedback.html'"/></xsl:call-template></xsl:variable><xsl:template name="render-include"><xsl:param name="path"/><xsl:param name="label"/><xsl:if test="$path!='exclude'"><xsl:comment> com.omniupdate.div label="<xsl:value-of select="$label"/>" path="<xsl:value-of select="$path"/>" </xsl:comment><xsl:choose><xsl:when test="$extension='php'"><xsl:processing-instruction name="php">include ($_SERVER["DOCUMENT_ROOT"]."<xsl:value-of select="$path"/>"); </xsl:processing-instruction></xsl:when><xsl:otherwise><xsl:comment>#include virtual="<xsl:value-of select="$path"/>"</xsl:comment></xsl:otherwise></xsl:choose><xsl:comment> /com.omniupdate.div </xsl:comment></xsl:if></xsl:template><xsl:template name="code"><xsl:if test="$extension='php'"><xsl:if test="child::text()[normalize-space(document/code)] | child::* != ''"><xsl:copy-of select="document/code/node()"/></xsl:if></xsl:if></xsl:template><xsl:template name="meta"><meta charset="utf-8"/><!--<title><xsl:if test="normalize-space(document/config/title) != ''"> <xsl:choose> <xsl:when test="$extension='php' and document/config/title/@dynamic='Yes'"><xsl:text disable-output-escaping="yes">&lt;?php echo </xsl:text><xsl:value-of select="document/config/title" disable-output-escaping="yes" /><xsl:text disable-output-escaping="yes"> ?&gt;</xsl:text> | </xsl:when> <xsl:otherwise><xsl:value-of select="document/config/title" /> | </xsl:otherwise> </xsl:choose> </xsl:if><xsl:value-of select="$site-title" /></title>--><title><xsl:copy-of select="$page-title"/></title><meta name="OU-template" content="v3.0"/><meta name="OU-minor-version" content="3" /><meta name="date"><xsl:attribute name="content"><xsl:value-of select="concat(year-from-dateTime($datetime),'-',month-from-dateTime($datetime),'-',day-from-dateTime($datetime))"/></xsl:attribute></meta><xsl:call-template name="render-include"><xsl:with-param name="path" select="$meta-include"/><xsl:with-param name="label" select="'meta-include'"/></xsl:call-template><xsl:for-each select="document/config/meta[normalize-space(@content)!='']"><xsl:copy-of select="."/></xsl:for-each></xsl:template><xsl:template name="css"><xsl:call-template name="render-include"><xsl:with-param name="path" select="$css-include"/><xsl:with-param name="label" select="'css-include'"/></xsl:call-template><xsl:if test="child::text()[normalize-space(document/css)] | child::* != ''"><xsl:copy-of select="document/css/node()"/></xsl:if><xsl:if test="$ou:action != 'pub'"><link id="dev_css" href="//cdn.illinoisstate.edu/css/ou/dev-tools.css" rel="stylesheet" media="screen" type="text/css"/></xsl:if></xsl:template><xsl:template name="before_closing_head"><xsl:call-template name="render-include"><xsl:with-param name="path" select="$head-btm-include"/><xsl:with-param name="label" select="'head-btm-include'"/></xsl:call-template><xsl:if test="child::text()[normalize-space(document/before-closing-head)] | child::* != ''"><xsl:copy-of select="document/before-closing-head/node()"/></xsl:if></xsl:template><xsl:template name="iguide"><a class="visuallyhidden" href="#body">Skip to main content</a><nav role="navigation" aria-label="University Navigation"><script type="text/javascript" src="//iguides.illinoisstate.edu"><xsl:comment>SCRIPT</xsl:comment></script><xsl:if test="$ou:action = 'pub'"><xsl:copy-of select="doc('http://iguides.illinoisstate.edu/iguide.html')"/></xsl:if></nav></xsl:template><xsl:template name="header"><header role="banner"><a class="visuallyhidden" href="#mastnav">Skip to main navigation</a><xsl:call-template name="render-include"><xsl:with-param name="path" select="$header-include"/><xsl:with-param name="label" select="'header-include'"/></xsl:call-template></header></xsl:template><xsl:template name="mast-nav"><span class="mastnav_top"><xsl:comment>MastNav Top</xsl:comment></span><span class="mastnav_mid"><xsl:for-each select="$navigation-xml/container"><div class="resp-nav"><xsl:variable name="mastlevel">mastlevel<xsl:value-of select="position()"/></xsl:variable><ul class="{$mastlevel}"><span class="{$mastlevel}_top"><xsl:comment>Top</xsl:comment></span><xsl:for-each select="nav[not(@hidden='true')]"><xsl:call-template name="mast-nav-element"><xsl:with-param name="level"><xsl:value-of select="position()"/></xsl:with-param></xsl:call-template></xsl:for-each><span class="{$mastlevel}_btm"><xsl:comment>Bottom</xsl:comment></span></ul></div></xsl:for-each></span><span class="mastnav_btm"><xsl:comment>MastNav Bottom</xsl:comment></span></xsl:template><xsl:template name="mast-nav-element"><xsl:param name="level"/><xsl:variable name="path-class"><xsl:choose><xsl:when test=" (@url = $ou:dirname and starts-with($ou:filename,'index.')) or (@url = concat($ou:dirname, '/') and starts-with($ou:filename, 'index.')) or (substring-before(@url, '.') = substring-before(concat($ou:dirname, '/', $ou:filename), '.')) ">current</xsl:when><xsl:when test=" (contains(concat($ou:dirname, '/'), @url)) ">parent</xsl:when></xsl:choose></xsl:variable><xsl:variable name="addclass" select="@addclass"/><xsl:variable name="offsite"><xsl:if test="contains(@url, '//')">offsite</xsl:if></xsl:variable><li><xsl:attribute name="class"><xsl:value-of select="normalize-space(concat('mastlink', $level, ' ', $path-class, ' ', $addclass))"/></xsl:attribute><span class="mastlink_top"><xsl:comment>Top</xsl:comment></span><span class="mastlink_mid"><a><xsl:attribute name="class"><xsl:value-of select="normalize-space(concat($path-class, ' ', $offsite, ' ', $addclass))"/></xsl:attribute><xsl:if test="normalize-space(@title)!=''"><xsl:attribute name="title"><xsl:value-of select="normalize-space(@title)"/></xsl:attribute></xsl:if><xsl:if test="normalize-space(@target)!=''"><xsl:attribute name="target"><xsl:value-of select="normalize-space(@target)"/></xsl:attribute></xsl:if><xsl:attribute name="href"><xsl:value-of select="@url"/></xsl:attribute><span><xsl:value-of disable-output-escaping="yes" select="replace(@label,'\[(.+?)\]','&lt;$1&gt;')"/></span></a></span><span class="mastlink_btm"><xsl:comment>Bottom</xsl:comment></span></li></xsl:template><xsl:template name="nav"><nav id="mastnav" aria-label="Main Navigation"><a class="visuallyhidden" href="#nav">Skip to section navigation</a><xsl:call-template name="mast-nav"/></nav></xsl:template><xsl:template name="sub_mast"><xsl:if test="$sub-mast='true'"><section id="submast"><span class="submast_top"><xsl:comment>Top</xsl:comment></span><div class="submast_mid"><xsl:copy-of select="document/sub-mast-content/node()"/></div><span class="submast_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:if></xsl:template><xsl:template name="section-nav"><span id="sectionnav_top"><xsl:comment>section nav top</xsl:comment></span><xsl:for-each select="$navigation-xml/container"><xsl:for-each select="nav"><xsl:call-template name="render_nav"><xsl:with-param name="pos"><xsl:value-of select="position()"/></xsl:with-param><xsl:with-param name="last"><xsl:value-of select="last()"/></xsl:with-param><xsl:with-param name="level">1</xsl:with-param></xsl:call-template></xsl:for-each></xsl:for-each><xsl:value-of select="$navigation-xml/global" disable-output-escaping="yes"/><xsl:if test="$sub-section-nav='true'"><div id="wrapsubsectionnav"><xsl:call-template name="render-include"><xsl:with-param name="path" select="$subsectionnav-include"/><xsl:with-param name="label" select="'subsectionnav-include'"/></xsl:call-template><xsl:if test="child::text()[normalize-space(document/subsectionnav)] | child::* != ''"><xsl:copy-of select="document/subsectionnav/node()"/></xsl:if></div></xsl:if><span id="sectionnav_btm"><xsl:comment>section nav bottom</xsl:comment></span></xsl:template><xsl:template name="render_nav"><xsl:param name="pos">0</xsl:param><xsl:param name="last">0</xsl:param><xsl:param name="level">1</xsl:param><xsl:param name="mast_levels">1</xsl:param><xsl:if test="$level &gt; $mast_levels"><xsl:variable name="position"><xsl:choose><xsl:when test="$pos = 1">first</xsl:when><xsl:when test="$pos = $last">last</xsl:when></xsl:choose></xsl:variable><xsl:variable name="path-class"><xsl:choose><xsl:when test=" (@url = $ou:dirname and starts-with($ou:filename,'index.')) or (@url = concat($ou:dirname, '/') and starts-with($ou:filename, 'index.')) or (substring-before(@url, '.') = substring-before(concat($ou:dirname, '/', $ou:filename), '.')) ">current</xsl:when><xsl:when test=" (contains(concat($ou:dirname, '/'), @url)) ">parent</xsl:when></xsl:choose></xsl:variable><xsl:variable name="offsite"><xsl:if test="contains(@url, '//')">offsite</xsl:if></xsl:variable><xsl:variable name="pdf"><xsl:if test="contains(@url, '.pdf')">pdf-link</xsl:if></xsl:variable><xsl:variable name="level-class">level<xsl:value-of select="$level - $mast_levels"/></xsl:variable><xsl:variable name="addclass"><xsl:value-of select="@addclass"/></xsl:variable><li><xsl:attribute name="class"><xsl:value-of select="normalize-space(concat($level-class, ' ', $path-class, ' ', $position, ' ', $addclass))"/></xsl:attribute><a><xsl:attribute name="class"><xsl:value-of select="normalize-space(concat($level-class, ' ', $path-class, ' ', $position, ' ', $offsite, ' ', $pdf, ' ', $addclass))"/></xsl:attribute><xsl:attribute name="href"><xsl:value-of select="@url"/></xsl:attribute><xsl:if test="normalize-space(@title)!=''"><xsl:attribute name="title"><xsl:value-of select="normalize-space(@title)"/></xsl:attribute></xsl:if><xsl:if test="normalize-space(@target)!=''"><xsl:attribute name="target"><xsl:value-of select="normalize-space(@target)"/></xsl:attribute></xsl:if><span><xsl:value-of disable-output-escaping="yes" select="replace(@label,'\[(.+?)\]','&lt;$1&gt;')"/></span></a></li></xsl:if><xsl:if test="count(nav) + count(group) &gt; 0"><xsl:if test=" @url=$ou:dirname or @url=concat($ou:dirname, '/') or starts-with($ou:dirname, @url) or ( starts-with(@url, $ou:dirname) and not(contains(substring-after(@url, $ou:dirname), '/')) )"><xsl:variable name="level-class">level<xsl:value-of select="($level + 1) - $mast_levels"/></xsl:variable><ul><xsl:attribute name="class"><xsl:value-of select="$level-class"/></xsl:attribute><xsl:variable name="level-class">level<xsl:value-of select="$level - $mast_levels"/></xsl:variable><xsl:for-each select="nav"><xsl:call-template name="render_nav"><xsl:with-param name="pos"><xsl:value-of select="position()"/></xsl:with-param><xsl:with-param name="last"><xsl:value-of select="last()"/></xsl:with-param><xsl:with-param name="level"><xsl:value-of select="$level + 1"/></xsl:with-param></xsl:call-template></xsl:for-each></ul></xsl:if></xsl:if></xsl:template><xsl:template name="content-render"><span class="body_top"><xsl:comment>Top</xsl:comment></span><div id="wrapcontent"><xsl:choose><xsl:when test="$page-layout='basic'"><xsl:call-template name="layout_basic"/></xsl:when><xsl:when test="$page-layout='callout'"><xsl:call-template name="layout_callout"/></xsl:when><xsl:when test="$page-layout='sidebar'"><xsl:call-template name="layout_sidebar"/></xsl:when><xsl:when test="$page-layout='optionbox'"><xsl:call-template name="layout_optionbox"/></xsl:when><xsl:when test="$page-layout='twocol'"><xsl:call-template name="layout_twocol"/></xsl:when><xsl:when test="$page-layout='threecol'"><xsl:call-template name="layout_threecol"/></xsl:when><xsl:when test="$page-layout='custom1'"><xsl:call-template name="layout_custom1"/></xsl:when><xsl:when test="$page-layout='custom2'"><xsl:call-template name="layout_custom2"/></xsl:when><xsl:otherwise><xsl:call-template name="layout_basic"/></xsl:otherwise></xsl:choose></div><xsl:comment>! end of #wrapcontent </xsl:comment><xsl:if test="$section-nav='true'"><xsl:comment>googleoff: snippet</xsl:comment><nav id="nav" class="sectionnav" aria-label="Section Navigation"><a class="visuallyhidden" href="#body">Skip to main content</a><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:call-template name="section-nav"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></nav><xsl:comment>googleon: snippet</xsl:comment></xsl:if><span class="body_btm"><xsl:comment>Bottom</xsl:comment></span></xsl:template><xsl:template name="body_content"><div id="body"><xsl:variable name="callout-location-class"><xsl:if test="$page-layout='callout'"><xsl:choose><xsl:when test="$callout-resp='bottom'">resp_btm</xsl:when><xsl:otherwise>resp_top</xsl:otherwise></xsl:choose></xsl:if></xsl:variable><xsl:attribute name="class"><xsl:value-of select="normalize-space(concat($page-layout,' ',$intro-layout,' ',$section-nav-class,' ',$callout-location-class))"/></xsl:attribute><xsl:call-template name="content-render"/></div></xsl:template><xsl:template name="render-giving"><xsl:param name="label"/><xsl:if test="$giving='true'"><div id="wrapgiving"><xsl:call-template name="render-include"><xsl:with-param name="path" select="$giving-include"/><xsl:with-param name="label" select="'giving-include'"/></xsl:call-template><xsl:if test="child::text()[normalize-space(document/giving)] | child::* != ''"><xsl:copy-of select="document/giving/node()"/></xsl:if></div></xsl:if></xsl:template><xsl:template name="render-intro"><xsl:if test="$intro-offset &gt; 0"><section class="content1"><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:copy-of select="document/main-content[position()=1]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:if><xsl:if test="$intro-offset &gt; 1"><section class="content2"><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:copy-of select="document/main-content[position()=2]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:if></xsl:template><xsl:template name="layout_basic"><xsl:call-template name="render-intro"/><section><xsl:attribute name="class">content<xsl:value-of select="1+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:call-template name="render-giving"/><!-- <p><xsl:value-of select="$ou:dirname" /></p> <p><xsl:value-of select="replace(replace($ou:dirname,'^/(.+?)(/|$).*','$1'),'( |_)','-')" /></p> <p><xsl:value-of select="concat(' page-',substring(lower-case(replace(replace($ou:filename,'( |-|_)','-'),'\.(php|shtml)','')),1,24))" /></p> --><xsl:copy-of select="document/main-content[position()=1+$intro-offset]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:template><xsl:template name="layout_callout"><xsl:call-template name="render-intro"/><xsl:variable name="aside_content" select="document/option-box-content[position()=1]"/><section><xsl:attribute name="class">content<xsl:value-of select="1+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid callout_mid"><xsl:comment>googleoff: all</xsl:comment><div class="callout-wrapper"><xsl:call-template name="render-giving"><xsl:with-param name="label" select="'1'"/></xsl:call-template><aside class="callout-filler"><span class="aside_top"><xsl:comment>Top</xsl:comment></span><div class="aside_mid"><xsl:if test="count($aside_content/*)&gt;0"><xsl:for-each select="$aside_content/*"><xsl:copy-of select="."/></xsl:for-each></xsl:if></div><span class="aside_btm"><xsl:comment>Bottom</xsl:comment></span></aside></div><xsl:comment>googleon: all</xsl:comment><xsl:copy-of select="document/main-content[position()=1+$intro-offset]/node()"/><div class="callout-main"><xsl:call-template name="render-giving"><xsl:with-param name="label" select="'2'"/></xsl:call-template><aside class="aside" role="complementary"><span class="aside_top"><xsl:comment>Top</xsl:comment></span><div class="aside_mid"><xsl:copy-of select="$aside_content/node()"/></div><span class="aside_btm"><xsl:comment>Bottom</xsl:comment></span></aside></div></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:template><xsl:template name="layout_sidebar"><xsl:call-template name="render-intro"/><section><xsl:attribute name="class">content<xsl:value-of select="1+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:copy-of select="document/main-content[position()=1+$intro-offset]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section><section><xsl:attribute name="class">content<xsl:value-of select="2+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:call-template name="render-giving"/><xsl:copy-of select="document/option-box-content[position()=1]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:template><xsl:template name="layout_optionbox"><xsl:call-template name="render-intro"/><section><xsl:attribute name="class">content<xsl:value-of select="1+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:copy-of select="document/main-content[position()=1+$intro-offset]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section><section><xsl:attribute name="class">content<xsl:value-of select="2+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:call-template name="render-giving"/><xsl:call-template name="render_optionboxes"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:template><xsl:template name="render_optionboxes"><xsl:if test="$optbox1-show='true'"><section><xsl:attribute name="class"><xsl:value-of select="normalize-space(concat('optbox ', $optbox1-style))"/></xsl:attribute><xsl:attribute name="id">optbox1</xsl:attribute><span class="optbox_top"><xsl:comment>Top</xsl:comment></span><div class="optbox_mid"><xsl:copy-of select="/document/option-box-content[position()=1]/node()"/></div><span class="optbox_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:if><xsl:if test="$optbox2-show='true'"><section><xsl:attribute name="class"><xsl:value-of select="normalize-space(concat('optbox ', $optbox2-style))"/></xsl:attribute><xsl:attribute name="id">optbox2</xsl:attribute><span class="optbox_top"><xsl:comment>Top</xsl:comment></span><div class="optbox_mid"><xsl:copy-of select="/document/option-box-content[position()=2]/node()"/></div><span class="optbox_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:if><xsl:if test="$optbox3-show='true'"><section><xsl:attribute name="class"><xsl:value-of select="normalize-space(concat('optbox ', $optbox3-style))"/></xsl:attribute><xsl:attribute name="id">optbox3</xsl:attribute><span class="optbox_top"><xsl:comment>Top</xsl:comment></span><div class="optbox_mid"><xsl:copy-of select="/document/option-box-content[position()=3]/node()"/></div><span class="optbox_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:if><xsl:if test="$optbox4-show='true'"><section><xsl:attribute name="class"><xsl:value-of select="normalize-space(concat('optbox ', $optbox4-style))"/></xsl:attribute><xsl:attribute name="id">optbox4</xsl:attribute><span class="optbox_top"><xsl:comment>Top</xsl:comment></span><div class="optbox_mid"><xsl:copy-of select="/document/option-box-content[position()=4]/node()"/></div><span class="optbox_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:if></xsl:template><xsl:template name="layout_twocol"><xsl:call-template name="render-intro"/><section><xsl:attribute name="class">content<xsl:value-of select="1+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:copy-of select="document/main-content[position()=1+$intro-offset]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section><section><xsl:attribute name="class">content<xsl:value-of select="2+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:call-template name="render-giving"/><xsl:copy-of select="document/main-content[position()=2+$intro-offset]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:template><xsl:template name="layout_threecol"><xsl:call-template name="render-intro"/><section><xsl:attribute name="class">content<xsl:value-of select="1+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:copy-of select="document/main-content[position()=1+$intro-offset]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section><section><xsl:attribute name="class">content<xsl:value-of select="2+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:copy-of select="document/main-content[position()=2+$intro-offset]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section><xsl:call-template name="render-giving"/><section><xsl:attribute name="class">content<xsl:value-of select="3+$intro-offset"/></xsl:attribute><span class="section_top"><xsl:comment>Top</xsl:comment></span><div class="section_mid"><xsl:copy-of select="document/main-content[position()=3+$intro-offset]/node()"/></div><span class="section_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:template><xsl:template name="layout_custom1"><xsl:call-template name="layout_basic"/></xsl:template><xsl:template name="layout_custom2"><xsl:call-template name="layout_basic"/></xsl:template><xsl:template name="sub_content"><xsl:if test="$sub-content='true'"><section id="subcontent"><span class="subcontent_top"><xsl:comment>Top</xsl:comment></span><div class="subcontent_mid"><xsl:copy-of select="document/sub-content-content/node()"/></div><span class="subcontent_btm"><xsl:comment>Bottom</xsl:comment></span></section></xsl:if></xsl:template><xsl:template name="footer"><footer role="contentinfo"><xsl:comment>googleoff: snippet</xsl:comment><xsl:call-template name="render-include"><xsl:with-param name="path" select="$footer-include"/><xsl:with-param name="label" select="'footer-include'"/></xsl:call-template></footer></xsl:template><xsl:template name="modified"><div id="ou_modified"><span id="m_datetime"><xsl:value-of select="$datetime"/></span><span id="m_year"><xsl:value-of select="year-from-dateTime($datetime)"/></span></div></xsl:template><xsl:template name="before_closing_body"><xsl:if test="$page-tools='true'"><div id="wrappagetools"><xsl:call-template name="render-include"><xsl:with-param name="path" select="$page_tools-include"/><xsl:with-param name="label" select="'page_tools-include'"/></xsl:call-template><xsl:if test="child::text()[normalize-space(document/page-tools)] | child::* != ''"><xsl:copy-of select="document/page-tools/node()"/></xsl:if></div></xsl:if><xsl:if test="$feedback='true'"><div id="wrapfeedback"><xsl:call-template name="render-include"><xsl:with-param name="path" select="$feedback-include"/><xsl:with-param name="label" select="'feedback-include'"/></xsl:call-template><xsl:if test="child::text()[normalize-space(document/feedback)] | child::* != ''"><xsl:copy-of select="document/feedback/node()"/></xsl:if></div></xsl:if><xsl:call-template name="render-include"><xsl:with-param name="path" select="$body-btm-include"/><xsl:with-param name="label" select="'body-btm-include'"/></xsl:call-template><xsl:if test="child::text()[normalize-space(document/before-closing-body)] | child::* != ''"><xsl:copy-of select="document/before-closing-body/node()"/></xsl:if><xsl:if test="$ou:action != 'pub'"><div id="dev-tools"><div> Links: <a><xsl:attribute name="href"><xsl:value-of select="$ou:httproot"/></xsl:attribute>Site root</a> | <a><xsl:attribute name="href"><xsl:value-of select="concat($ou:httproot,substring($ou:path,2))"/></xsl:attribute>Page</a> </div><div>Extension: <xsl:value-of select="$extension"/></div><div>Template: <xsl:value-of select="$template"/></div><div>Layout: <xsl:value-of select="normalize-space(concat($page-layout,' ',$intro-layout))"/></div></div></xsl:if></xsl:template><xsl:template name="optionbox_style"><xsl:param name="val"/><xsl:choose><xsl:when test="$val = '' or contains($val,'none')"><xsl:value-of select="''"/></xsl:when><xsl:otherwise><xsl:value-of select="substring-before($val,'_ob')"/></xsl:otherwise></xsl:choose></xsl:template><xsl:template name="file-include-path"><xsl:param name="path"/><xsl:param name="file"/><xsl:choose><xsl:when test="$path != ''"><xsl:value-of select="$path"/></xsl:when><xsl:otherwise><xsl:value-of select="concat($include-path,$file)"/></xsl:otherwise></xsl:choose></xsl:template><xsl:template match="/"><xsl:call-template name="code"/><xsl:text disable-output-escaping="yes">&lt;!DOCTYPE html&gt;</xsl:text><xsl:comment><xsl:text disable-output-escaping="yes">[if lt IE 7]&gt; &lt;</xsl:text>html class="no-js ie6 oldie <xsl:value-of select="$html-class"/>" lang="en"<xsl:text disable-output-escaping="yes">&gt; &lt;![endif]</xsl:text></xsl:comment><xsl:comment><xsl:text disable-output-escaping="yes">[if IE 7]&gt; &lt;</xsl:text>html class="no-js ie7 oldie <xsl:value-of select="$html-class"/>" lang="en"<xsl:text disable-output-escaping="yes">&gt; &lt;![endif]</xsl:text></xsl:comment><xsl:comment><xsl:text disable-output-escaping="yes">[if IE 8]&gt; &lt;</xsl:text>html class="no-js ie8 oldie <xsl:value-of select="$html-class"/>" lang="en"<xsl:text disable-output-escaping="yes">&gt; &lt;![endif]</xsl:text></xsl:comment><xsl:comment><xsl:text disable-output-escaping="yes">[if gt IE 8]&gt;&lt;!</xsl:text></xsl:comment><xsl:text disable-output-escaping="yes">&lt;</xsl:text>html class="no-js <xsl:value-of select="$html-class"/>" lang="en"<xsl:text disable-output-escaping="yes">&gt;</xsl:text><xsl:comment><xsl:text disable-output-escaping="yes">&lt;![endif]</xsl:text></xsl:comment><xsl:call-template name="head"/><xsl:call-template name="body"/><xsl:text disable-output-escaping="yes">&lt;</xsl:text>/html<xsl:text disable-output-escaping="yes">&gt;</xsl:text></xsl:template><xsl:template name="head"><head><xsl:call-template name="meta"/><xsl:call-template name="css"/><xsl:call-template name="before_closing_head"/></head></xsl:template><xsl:template name="body"><body><div id="container"><xsl:comment>googleoff: all</xsl:comment><xsl:call-template name="iguide"/><xsl:comment>googleon: all</xsl:comment><xsl:comment>googleoff: snippet</xsl:comment><xsl:call-template name="header"/><xsl:call-template name="nav"/><xsl:comment>googleon: snippet</xsl:comment><xsl:call-template name="sub_mast"/><xsl:call-template name="body_content"/><xsl:call-template name="sub_content"/><xsl:comment>googleoff: snippet</xsl:comment><xsl:call-template name="footer"/><xsl:call-template name="modified"/><xsl:comment>googleon: snippet</xsl:comment><xsl:call-template name="before_closing_body"/></div></body></xsl:template></xsl:stylesheet>